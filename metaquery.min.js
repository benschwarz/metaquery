(function(e,t){var n={breakpoints:{},_events:{},_eventMatchCache:{},bind:function(e,t){(n._events[e]=[]).push(t),c()}},r=function(n){/in/.test(t.readyState)?e.setTimeout(function(){r(n)},9):n()},i=function(e,n,r){t.addEventListener?e.addEventListener(n,r):e.attachEvent("on"+n,r)},s=function(t,n){function o(){s=null,t.apply(i,r)}var r,i,s;return function(){e.clearTimeout(s),s=e.setTimeout(o,n)}},o=function(e,t){return e.className.split(" ").indexOf(t)!==-1},u=function(e,t){var n=e.className.split(" "),r=n.indexOf(t);o(e,t)&&(n.splice(r,1),e.className=n.join(" "))},a=function(e,t){o(e,t)||(e.className=e.className!==""?e.className+" "+t:t)},f=function(e,n){var r="breakpoint-"+n,i=t.documentElement;e?a(i,r):u(i,r)},l=function(e,n){if(!e)return;var r=t.getElementsByTagName("img");for(var i=0;i<r.length;i++){var s=r[i],o=s.getAttribute("data-mq-src");o&&(s.src=o.replace("[breakpoint]",n))}},c=function(){for(var t in n.breakpoints){var r=n.breakpoints[t],i=e.matchMedia(r).matches;if(n._events[t]&&n._eventMatchCache[t]!==i)for(var s=0;s<n._events[t].length;s++){var o=n._events[t][s];n._eventMatchCache[t]=i,typeof o=="function"&&o(i)}f(i,t),l(i,t)}},h=function(){var e=t.getElementsByTagName("meta");for(var r=0;r<e.length;r++)if(e[r].name==="breakpoint"){var i=e[r].getAttribute("data"),s=e[r].getAttribute("media");n.breakpoints[i]=s}},p=function(){h(),c()},d=function(){h(),i(e,"resize",s(function(){c()},50)),c()};e.metaQuery=n,p(),r(d)})(this,this.document);