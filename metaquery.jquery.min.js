(function(e,t,n){var r={breakpoints:{},_events:{},_eventMatchCache:{},bind:function(e,t){(r._events[e]=[]).push(t),u()}},i=function(t,n){function o(){s=null,t.apply(i,r)}var r,i,s;return function(){e.clearTimeout(s),s=e.setTimeout(o,n)}},s=function(e,t){n("html").toggleClass("breakpoint-"+t,e)},o=function(e,t){if(!e)return;n("img[data-mq-src]").each(function(){var e=n(this),r=e.attr("data-mq-src");e.attr("src",r.replace("[breakpoint]",t))})},u=function(){for(var t in r.breakpoints){var n=r.breakpoints[t],i=e.matchMedia(n).matches;if(r._events[t]&&r._eventMatchCache[t]!==i)for(var u=0;u<r._events[t].length;u++){var a=r._events[t][u];r._eventMatchCache[t]=i,typeof a=="function"&&a(i)}s(i,t),o(i,t)}},a=function(){n("meta[name=breakpoint]").each(function(){var e=n(this);r.breakpoints[e.attr("data")]=e.attr("media")})},f=function(){a(),u()},l=function(){a(),n(e).on("resize",i(function(){u()},50)),u()};e.metaQuery=r,f(),n(function(){l()})})(this,this.document,jQuery);